<!--
  Copyright [2023] [Coordinated Chaos]
 
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
 
      http://www.apache.org/licenses/LICENSE-2.0
 
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
 -->
<!doctype html>
<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Index Page</title>

        <!-- Bootstrap CSS -->
        <link
            rel="stylesheet"
            href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
        />
        <link
            rel="stylesheet"
            href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
        />
        <script
            type="text/javascript"
            src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
        ></script>
        <script type="text/javascript" src="/index.js" defer></script>
        <script type="text/javascript" src="/utils.js" defer></script>
        <style>
            #map1 {
                height: 500px; 
                width: 100%; 
                margin-top: 30px; 
                margin-bottom: 30px; 
                margin-left: 10px;
                border-radius: 8px; /*rounded corners */
                
            }
            #addpoi {
                height: 200px; 
                margin-top: 20px;
                width: 80%;
            }
            
        </style>
    </head>
    <body>
        <!-- Header Section -->
        <nav class="navbar navbar-dark bg-primary">
            <a class="navbar-brand" href="#"><%= i18n.__("Home") %></a>
            <a class="navbar-brand" href="/addpoi"> <%= i18n.__("AddPoi") %></a>
            <a class="navbar-brand" id="get_users" hidden href="/allusers">
                <%= i18n.__("Users") %></a
            >
            <a class="navbar-brand" id="get_pois" hidden href="/allpois">
                <%= i18n.__("Pois") %></a
            >

            <form class="form-inline">
                <input
                    class="form-control mr-sm-2"
                    id="poi_region"
                    type="search"
                    placeholder="Search"
                    aria-label="Search"
                />
                <button
                    class="btn btn-light my-2 my-sm-0"
                    id="poi_search"
                    type="submit"
                >
                    <%= i18n.__("Search") %>
                </button>
            </form>
            <div class="ml-2">
                <button
                    class="btn btn-light my-2 my-sm-0"
                    id="enableGeolocation"
                    type="button"
                >
                    <%= i18n.__("EnableGPS") %>
                </button>
                <button
                    class="btn btn-light my-2 my-sm-0"
                    id="revokeGeolocation"
                    type="button"
                >
                    <%= i18n.__("RevokeGPS") %>
                </button>
            </div>

            <a href="/updateuser" class="btn btn-light ml-auto">
                <%= i18n.__("Profile") %></a
            >
        </nav>

        <div class="container-fluid" >
            <div class="row">
                <div class="col-md-8">
                    <div id="map1" ></div>
                </div>
                
                        <div class="col-md-4" hidden id="addpoi">
                            <div class="card">
                                <div class="card-header bg-primary text-white">
                                    <h3 class="text-center"> <%= i18n.__("AddPoint") %></h3>
                                </div>
                                <div class="card-body">
                                    <form id="addPoiForm">
                                        <div class="mb-3" >
                                            <label for="name" class="form-label"
                                                > <%= i18n.__("Name") %></label
                                            >
                                            <input
                                                type="text"
                                                class="form-control"
                                                id="name"
                                                name="name"
                                                required
                                            />
                                        </div>
                                        <div class="mb-3">
                                            <label for="type" class="form-label"
                                                > <%= i18n.__("Type") %></label
                                            >
                                            <input
                                                type="text"
                                                class="form-control"
                                                id="type"
                                                name="type"
                                            />
                                        </div>
                                        <div class="mb-3">
                                            <label for="country" class="form-label"
                                                > <%= i18n.__("Country") %></label
                                            >
                                            <input
                                                type="text"
                                                class="form-control"
                                                id="country"
                                                name="country"
                                            />
                                        </div>
                                        <div class="mb-3">
                                            <label for="region" class="form-label"
                                                > <%= i18n.__("Region") %></label
                                            >
                                            <input
                                                type="text"
                                                class="form-control"
                                                id="region"
                                                name="region"
                                            />     
                                        </div>
                                        
                                        <div class="mb-3">
                                            <label for="description" class="form-label"
                                                > <%= i18n.__("Description") %></label
                                            >
                                            <textarea
                                                class="form-control"
                                                id="description"
                                                name="description"
                                                rows="4"
                                            ></textarea>
                                        </div>
                                        <div class="mb-3">
                                            <label for="image" class="form-label"
                                                ><%= i18n.__("Image") %></label
                                            >
                                            <input
                                                type="file"
                                                class="form-control"
                                                id="image"
                                                name="image"
                                                accept=".jpg, .jpeg"
                                            />
                                            <small class="form-text text-muted">
                                                <%= i18n.__("PUOJI") %>
                                            </small>
                                        <div class="text-center">
                                            <button
                                                type="submit"
                                                id="ADD POI"
                                                class="btn btn-primary"
                                            >
                                            <%= i18n.__("Add") %>
                                            </button>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                   
        </div>
        <div class="col-sm-6 col-md-8">
            <div class="container-fluid" id="poi_results" hidden>
                <div class="card-header bg-primary text-white">
                    <h3 class="text-center"> <%= i18n.__("Pois") %></h3>
                </div>
                <div id="poi_table">
                    <table class="table">
                        <thead>
                            <tr>
                                <th><%= i18n.__("Name") %></th>
                                <th><%= i18n.__("Type") %></th>
                                <th><%= i18n.__("Country") %></th>
                                <th><%= i18n.__("Region") %></th>
                                <th><%= i18n.__("Longitude") %></th>
                                <th><%= i18n.__("Latitude") %></th>
                                <th><%= i18n.__("Description") %></th>
                                <th id="transUpdate"><%= i18n.__("Update") %></th>
                                <th id="transDelete"><%= i18n.__("Delete") %></th>
                                <th id="transImage"><%= i18n.__("Image") %></th>
                            </tr>
                        </thead>
                        <tbody id="TableBody">
                            <!-- Table rows will be dynamically added here -->
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
    <%- include('footer.ejs') %>

        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.7.2/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    </body>
</html>
